<!DOCTYPE html>
<html>
<head>
    <title>Pirate Escape - Test Page</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-case { margin: 10px 0; padding: 10px; border: 1px solid #ddd; }
        .pass { background: #d4edda; color: #155724; }
        .fail { background: #f8d7da; color: #721c24; }
    </style>
</head>
<body>
    <h1>Pirate Escape - GitHub Pages Test</h1>
    <p>Testing if <code>index.html</code> works correctly.</p>

    <!-- Test 1: Page Load -->
    <div class="test-case" id="test1">
        <h3>Test 1: Page Loads</h3>
        <p>Check if the game page loads without errors.</p>
        <button onclick="runTest1()">Run Test</button>
        <div id="result1"></div>
    </div>

    <!-- Test 2: Lobby UI -->
    <div class="test-case" id="test2">
        <h3>Test 2: Lobby UI Elements</h3>
        <p>Check if buttons/inputs in the lobby appear.</p>
        <button onclick="runTest2()">Run Test</button>
        <div id="result2"></div>
    </div>

    <!-- Test 3: Game Start -->
    <div class="test-case" id="test3">
        <h3>Test 3: Game Starts</h3>
        <p>Check if clicking "Create Room" shows the game screen.</p>
        <button onclick="runTest3()">Run Test</button>
        <div id="result3"></div>
    </div>

    <script>
        // Test 1: Page Load
        function runTest1() {
            const result = document.getElementById('result1');
            try {
                // Simulate checking if the page is live
                fetch(window.location.href.replace('test.html', 'index.html'))
                    .then(response => {
                        if (response.ok) {
                            result.innerHTML = '<span class="pass">✓ PASS: index.html loaded successfully.</span>';
                        } else {
                            result.innerHTML = '<span class="fail">✗ FAIL: index.html not found (404).</span>';
                        }
                    })
                    .catch(() => {
                        result.innerHTML = '<span class="fail">✗ FAIL: Could not load index.html.</span>';
                    });
            } catch (e) {
                result.innerHTML = '<span class="fail">✗ FAIL: Error loading page.</span>';
            }
        }

        // Test 2: Lobby UI
        function runTest2() {
            const result = document.getElementById('result2');
            try {
                // Check for critical lobby elements
                const hasCreateBtn = !!document.getElementById('create-btn');
                const hasJoinBtn = !!document.getElementById('join-btn');
                const hasInputs = !!document.getElementById('player1-name');

                if (hasCreateBtn && hasJoinBtn && hasInputs) {
                    result.innerHTML = '<span class="pass">✓ PASS: Lobby UI elements found.</span>';
                } else {
                    result.innerHTML = '<span class="fail">✗ FAIL: Missing lobby UI elements.</span>';
                }
            } catch (e) {
                result.innerHTML = '<span class="fail">✗ FAIL: Error checking UI.</span>';
            }
        }

        // Test 3: Game Start
        function runTest3() {
            const result = document.getElementById('result3');
            try {
                // Simulate clicking "Create Room"
                document.getElementById('player1-name').value = "TestPlayer";
                document.getElementById('create-btn').click();

                // Check if game container becomes visible
                setTimeout(() => {
                    const gameContainer = document.getElementById('game-container');
                    if (gameContainer && gameContainer.style.display === 'grid') {
                        result.innerHTML = '<span class="pass">✓ PASS: Game started successfully.</span>';
                    } else {
                        result.innerHTML = '<span class="fail">✗ FAIL: Game did not start.</span>';
                    }
                }, 1000);
            } catch (e) {
                result.innerHTML = '<span class="fail">✗ FAIL: Error starting game.</span>';
            }
        }
    </script>
</body>
</html>
